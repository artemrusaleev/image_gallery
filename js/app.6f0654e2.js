(function(t){function e(e){for(var o,n,l=e[0],i=e[1],c=e[2],u=0,m=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"21bb":function(t,e,a){"use strict";a("2dad")},"2dad":function(t,e,a){},"4c05":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/image_gallery"}},[t._v("Home")]),t._v(" | "),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.triggerUploadModal.apply(null,arguments)}}},[t._v("Upload new")])],1),a("router-view"),t.showUploadModal?a("upload-modal",{attrs:{modalMessage:t.modalMessage,modalMessageError:t.modalMessageError},on:{"close-modal":t.onCloseModal,"form-submited":t.onFormSumbit}}):t._e()],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal__container",on:{click:t.onCloseModal}},[a("div",{staticClass:"modal__body"},[a("span",{staticClass:"modal__title"},[t._v("Upload new image")]),a("div",{staticClass:"modal__inputs"},[a("form",{staticClass:"modal__form",on:{submit:function(t){t.preventDefault()}}},[a("label",{attrs:{for:"inputs__href"}},[t._v("Paste a image link: ")]),a("input",{staticClass:"inputs__href",attrs:{type:"text",name:"href",id:"inputs__href"}}),a("label",{attrs:{for:"inputs__file"}},[t._v("Paste a file: ")]),a("input",{staticClass:"inputs__file",attrs:{name:"file",type:"file",id:"inputs__file"}}),a("span",{class:{modal__error:t.modalMessageError,modal__sucscess:!t.modalMessageError}},[t._v(t._s(t.modalMessage))]),a("a",{staticClass:"modal__button",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.formSubmited.apply(null,arguments)}}},[t._v("Upload")])])]),a("a",{staticClass:"modal__close",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v("X")])])])},l=[],i={name:"UploadMoadal",props:{modalMessage:{default:"",type:String},modalMessageError:{default:!1,type:Boolean}},methods:{formSubmited:function(t){var e=this,a=new FormData(t.target.parentElement),o=new FileReader;o.readAsText(a.get("file")),o.onload=function(){e.$emit("form-submited",[{url:a.get("href"),description:null},o.result]),t.target.parentElement.reset()}},modalButtonClickHandler:function(t){console.log(t.target.parentElement)},onCloseModal:function(t){var e=t.target;("app"===e.parentElement.id||e.classList.contains("modal__close"))&&this.$emit("close-modal")}}},c=i,d=a("2877"),u=Object(d["a"])(c,n,l,!1,null,"537734ae",null),m=u.exports,p={components:{UploadModal:m},name:"App",data:function(){return{showUploadModal:!1,modalMessage:null,modalMessageError:!1}},methods:{triggerUploadModal:function(){var t=document.documentElement;this.showUploadModal=!this.showUploadModal,t.classList.toggle("modal__open")},onCloseModal:function(){this.triggerUploadModal()},onFormSumbit:function(t){var e=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;if(t[0])try{if(!e.test(t[0].url))throw new Error;this.$store.dispatch("putNewImage",t[0]),this.showModalMessage("Image loaded",2e3),this.modalMessageError=!1}catch(o){this.showModalMessage("Check url input",99999999),this.modalMessageError=!0}if(t[1])try{var a=JSON.parse(t[1]);void 0!==a.images[0]&&(this.$store.dispatch("putNewImages",a.images),this.showModalMessage("Image loaded",2e3),this.modalMessageError=!1)}catch(o){this.showModalMessage("Check JSON input",2e3),this.modalMessageError=!0}},showModalMessage:function(t,e){var a=this;this.modalMessage=t,setTimeout((function(){a.modalMessage=""}),e)}}},f=p,g=(a("5c0b"),Object(d["a"])(f,s,r,!1,null,null,null)),h=g.exports,_=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gallery"},[a("h1",[t._v("Gallery")]),a("div",{staticClass:"gallery__container"},[a("ul",{staticClass:"card__list"},t._l(t.getGalleryImages,(function(e,o){return a("gallery-card",{key:o,staticClass:"card__item",attrs:{card:e,cardIndex:o},on:{"card-deleted":t.onCardDeleted,"card-clicked":t.onCardClicked}})})),1)]),t.showLightboxModal?a("lightbox-modal",{attrs:{card:t.currentCard},on:{"close-modal":t.onCloseModal}}):t._e()],1)},M=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{attrs:{"data-card-index":t.cardIndex},on:{click:function(e){return t.cardClickHandler(t.card)}}},[a("img",{staticClass:"card__image",attrs:{src:t.card.url,alt:t.card.description}}),a("div",{staticClass:"item__additions"},[t.card.description?a("span",[t._v(t._s(t.card.description))]):t._e(),a("a",{staticClass:"item__delete",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteCard(t.cardIndex)}}},[t._v("Delete")])])])},b=[],C=(a("a9e3"),{name:"GalleryCard",props:{card:{type:Object,default:function(){return{}}},cardIndex:{type:Number,default:null}},methods:{deleteCard:function(t){this.$emit("card-deleted",t)},cardClickHandler:function(t){this.$emit("card-clicked",t)}}}),E=C,O=(a("8202"),Object(d["a"])(E,y,b,!1,null,null,null)),S=O.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal__container",on:{click:function(e){return e.preventDefault(),t.onCloseModal.apply(null,arguments)}}},[a("div",{staticClass:"modal__body lightbox"},[a("div",{staticClass:"modal__image"},[a("img",{attrs:{src:t.card.url,alt:t.card.description}})]),a("div",{staticClass:"modal__description"},[t._v(t._s(t.card.description))]),a("a",{staticClass:"modal__close light",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v("X")])])])},I=[],w={name:"LightboxModal",props:{card:{type:Object,default:function(){return{}}}},methods:{onCloseModal:function(t){var e=t.target;(e.parentElement.classList.contains("gallery")||e.classList.contains("modal__close"))&&this.$emit("close-modal")}}},T=w,L=Object(d["a"])(T,x,I,!1,null,null,null),k=L.exports,R={name:"Home",components:{GalleryCard:S,LightboxModal:k},data:function(){return{showLightboxModal:!1,currentCard:null}},computed:{getGalleryImages:function(){var t=localStorage,e=JSON.parse(t.getItem("images"));return e?this.$store.dispatch("setLocalImagesToStore",e):this.$store.dispatch("setStoreImagesToLocal"),this.$store.getters.getGalleryImages}},methods:{onCardDeleted:function(t){this.$store.dispatch("deleteImage",t)},triggerLightBoxModal:function(){var t=document.documentElement;this.showLightboxModal=!this.showLightboxModal,t.classList.toggle("modal__open")},onCloseModal:function(){this.triggerLightBoxModal()},onCardClicked:function(t){this.currentCard=t,this.triggerLightBoxModal()}}},$=R,j=(a("21bb"),Object(d["a"])($,v,M,!1,null,null,null)),U=j.exports;o["a"].use(_["a"]);var G=[{path:"/image_gallery",name:"Home",component:U},{path:"*",redirect:"/image_gallery"}],P=new _["a"]({mode:"history",base:"",routes:G}),D=P,N=a("2909"),A=(a("a434"),a("2f62"));o["a"].use(A["a"]);var J=function(t,e,a){var o=localStorage;if("set"===e&&o.setItem(t,JSON.stringify(a)),"delete"===e){var s=JSON.parse(o.getItem(t));s.splice(t,1),o.setItem(t,JSON.stringify(s))}},F=new A["a"].Store({state:{galleryImages:[{url:"https://picsum.photos/300/150",description:"Random image:  300x150"},{url:"https://picsum.photos/350/400",description:"Random image:  350x400"},{url:"https://picsum.photos/350/550",description:"Random image:  350x550"},{url:"https://picsum.photos/340/200",description:"Random image:  340x200"},{url:"https://picsum.photos/330/700",description:"Random image:  330x700"},{url:"https://picsum.photos/320/400",description:"Random image:  320x400"},{url:"https://picsum.photos/310/600",description:"Random image:  310x600"},{url:"https://picsum.photos/500/400",description:"Random image:  500x400"},{url:"https://picsum.photos/250/250",description:"Random image:  250x250"},{url:"https://picsum.photos/420/350",description:"Random image:  420x350"},{url:"https://picsum.photos/200/200",description:"Random image:  200x200"},{url:"https://picsum.photos/1200/700",description:"Random image:  1200x700"}]},mutations:{PUT_IMAGE_TO_STORE:function(t,e){return t.galleryImages.push(e)},PUT_JSON_OF_IMAGES_TO_STORE:function(t,e){var a;return(a=t.galleryImages).push.apply(a,Object(N["a"])(e))},DELETE_IMAGE_FROM_STORE:function(t,e){return t.galleryImages.splice(e,1)},SET_LOCAL_IMAGES_TO_STORE:function(t,e){return t.galleryImages=e}},actions:{putNewImage:function(t,e){var a=t.commit,o=t.state;a("PUT_IMAGE_TO_STORE",e),J("images","set",o.galleryImages)},putNewImages:function(t,e){var a=t.commit,o=t.state;a("PUT_JSON_OF_IMAGES_TO_STORE",e),J("images","set",o.galleryImages)},deleteImage:function(t,e){var a=t.commit;a("DELETE_IMAGE_FROM_STORE",e),J("images","delete",e)},setLocalImagesToStore:function(t,e){var a=t.commit;a("SET_LOCAL_IMAGES_TO_STORE",e)},setStoreImagesToLocal:function(){J("images","set",this.state.galleryImages)}},getters:{getGalleryImages:function(t){return t.galleryImages}},modules:{}});o["a"].config.productionTip=!1,new o["a"]({router:D,store:F,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},8202:function(t,e,a){"use strict";a("4c05")},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.6f0654e2.js.map