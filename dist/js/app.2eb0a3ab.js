(function(e){function t(t){for(var r,n,l=t[0],i=t[1],d=t[2],c=0,p=[];c<l.length;c++)n=l[c],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"21bb":function(e,t,a){"use strict";a("2dad")},"2dad":function(e,t,a){},"4c05":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.triggerUploadModal.apply(null,arguments)}}},[e._v("Upload new")])],1),a("router-view"),e.showUploadModal?a("upload-modal",{attrs:{modalMessage:e.modalMessage,modalMessageError:e.modalMessageError},on:{"close-modal":e.onCloseModal,"form-submited":e.onFormSumbit}}):e._e()],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal__container"},[a("div",{staticClass:"modal__body"},[a("span",{staticClass:"modal__title"},[e._v("Upload new image")]),a("div",{staticClass:"modal__inputs"},[a("form",{staticClass:"modal__form",on:{submit:function(e){e.preventDefault()}}},[a("label",{attrs:{for:"inputs__href"}},[e._v("Paste a image link: ")]),a("input",{staticClass:"inputs__href",attrs:{type:"text",name:"href",id:"inputs__href"}}),a("label",{attrs:{for:"inputs__file"}},[e._v("Paste a file: ")]),a("input",{staticClass:"inputs__file",attrs:{name:"file",type:"file",id:"inputs__file"}}),a("span",{class:{modal__error:e.modalMessageError,modal__sucscess:!e.modalMessageError}},[e._v(e._s(e.modalMessage))]),a("a",{staticClass:"modal__button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.formSubmited.apply(null,arguments)}}},[e._v("Upload")])])]),a("a",{staticClass:"modal__close",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onCloseModal.apply(null,arguments)}}},[e._v("X")])])])},l=[],i={name:"UploadMoadal",props:{modalMessage:{default:"",type:String},modalMessageError:{default:!1,type:Boolean}},methods:{formSubmited:function(e){var t=this,a=new FormData(e.target.parentElement),r=new FileReader;r.readAsText(a.get("file")),r.onload=function(){t.$emit("form-submited",[{url:a.get("href"),description:null},r.result]),e.target.parentElement.reset()}},modalButtonClickHandler:function(e){console.log(e.target.parentElement)},onCloseModal:function(){this.$emit("close-modal")}}},d=i,u=a("2877"),c=Object(u["a"])(d,n,l,!1,null,"e977c9ac",null),p=c.exports,m={components:{UploadModal:p},name:"App",data:function(){return{showUploadModal:!1,modalMessage:null,modalMessageError:!1}},methods:{triggerUploadModal:function(){var e=document.documentElement;this.showUploadModal=!this.showUploadModal,e.classList.toggle("modal__open")},onCloseModal:function(){this.triggerUploadModal()},onFormSumbit:function(e){var t=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;if(e[0])try{if(!t.test(e[0].url))throw new Error;this.$store.dispatch("putNewImage",e[0]),this.showModalMessage("Image loaded",2e3),this.modalMessageError=!1}catch(r){this.showModalMessage("Check url input",99999999),this.modalMessageError=!0}if(e[1])try{var a=JSON.parse(e[1]);void 0!==a.images[0]&&(this.$store.dispatch("putNewImages",a.images),this.showModalMessage("Image loaded",2e3),this.modalMessageError=!1)}catch(r){this.showModalMessage("Check JSON input",2e3),this.modalMessageError=!0}},showModalMessage:function(e,t){var a=this;this.modalMessage=e,setTimeout((function(){a.modalMessage=""}),t)}}},f=m,g=(a("5c0b"),Object(u["a"])(f,s,o,!1,null,null,null)),_=g.exports,h=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gallery"},[a("h1",[e._v("Gallery")]),a("div",{staticClass:"gallery__container"},[a("ul",{staticClass:"card__list"},e._l(e.getGalleryImages,(function(t,r){return a("gallery-card",{key:r,staticClass:"card__item",attrs:{card:t,cardIndex:r},on:{"card-deleted":e.onCardDeleted}})})),1)])])},M=[],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{attrs:{"data-card-index":e.cardIndex}},[a("img",{staticClass:"card__image",attrs:{src:e.card.url,alt:e.card.description}}),a("div",{staticClass:"item__additions"},[e.card.description?a("span",[e._v(e._s(e.card.description))]):e._e(),a("a",{staticClass:"item__delete",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.deleteCard(e.cardIndex)}}},[e._v("Delete")])])])},O=[],b=(a("a9e3"),{name:"GalleryCard",props:{card:{type:Object,default:function(){return{}}},cardIndex:{type:Number,default:null}},methods:{deleteCard:function(e){this.$emit("card-deleted",e)}}}),E=b,S=(a("8202"),Object(u["a"])(E,y,O,!1,null,null,null)),I=S.exports,w={name:"Home",components:{GalleryCard:I},computed:{getGalleryImages:function(){var e=localStorage,t=JSON.parse(e.getItem("images"));return t&&this.$store.dispatch("setLocalImagesToStore",t),this.$store.getters.getGalleryImages}},methods:{onCardDeleted:function(e){this.$store.dispatch("deleteImage",e)}}},C=w,x=(a("21bb"),Object(u["a"])(C,v,M,!1,null,null,null)),T=x.exports;r["a"].use(h["a"]);var R=[{path:"/",name:"Home",component:T}],U=new h["a"]({mode:"history",base:"/",routes:R}),j=U,G=a("2909"),$=(a("a434"),a("2f62"));r["a"].use($["a"]);var k=function(e,t,a){var r=localStorage;if("set"===t&&r.setItem(e,JSON.stringify(a)),"delete"===t){var s=JSON.parse(r.getItem(e));s.splice(e,1),r.setItem(e,JSON.stringify(s))}},N=new $["a"].Store({state:{galleryImages:[{url:"https://picsum.photos/300/150",description:"Random image:  300x150"},{url:"https://picsum.photos/350/400",description:"Random image:  350x400"},{url:"https://picsum.photos/350/550",description:"Random image:  350x550"},{url:"https://picsum.photos/340/200",description:"Random image:  340x200"},{url:"https://picsum.photos/330/700",description:"Random image:  330x700"},{url:"https://picsum.photos/320/400",description:"Random image:  320x400"},{url:"https://picsum.photos/310/600",description:"Random image:  310x600"},{url:"https://picsum.photos/500/400",description:"Random image:  500x400"},{url:"https://picsum.photos/250/250",description:"Random image:  250x250"},{url:"https://picsum.photos/420/350",description:"Random image:  420x350"},{url:"https://picsum.photos/200/200",description:"Random image:  200x200"},{url:"https://picsum.photos/1200/700",description:"Random image:  1200x700"}]},mutations:{PUT_IMAGE_TO_STORE:function(e,t){return e.galleryImages.push(t)},PUT_JSON_OF_IMAGES_TO_STORE:function(e,t){var a;return(a=e.galleryImages).push.apply(a,Object(G["a"])(t))},DELETE_IMAGE_FROM_STORE:function(e,t){return e.galleryImages.splice(t,1)},SET_LOCAL_IMAGES_TO_STORE:function(e,t){return e.galleryImages=t}},actions:{putNewImage:function(e,t){var a=e.commit,r=e.state;a("PUT_IMAGE_TO_STORE",t),k("images","set",r.galleryImages)},putNewImages:function(e,t){var a=e.commit,r=e.state;a("PUT_JSON_OF_IMAGES_TO_STORE",t),k("images","set",r.galleryImages)},deleteImage:function(e,t){var a=e.commit;a("DELETE_IMAGE_FROM_STORE",t),k("images","delete",t)},setLocalImagesToStore:function(e,t){var a=e.commit;a("SET_LOCAL_IMAGES_TO_STORE",t)}},getters:{getGalleryImages:function(e){return e.galleryImages}},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:j,store:N,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},8202:function(e,t,a){"use strict";a("4c05")},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.2eb0a3ab.js.map